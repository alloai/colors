$(document).ready(function(){$(document).bind("mobileinit",function(){$.mobile.touchOverflowEnabled=!0}),$("#preloader").fadeOut(2e3,function(){$("#preloader").remove()});var t=window.innerHeight,e=!1;function d(t,e){var d=$(t).find(".card-title").text(),i=$(t).find(".en-name").text(),o=$(t).find(".hex-value").text().toLowerCase(),a=$(t).find(".dd-c").text(),n=$(t).find(".dd-m").text(),r=$(t).find(".dd-y").text(),s=$(t).find(".dd-k").text(),l=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,d,i){return e+e+d+d+i+i});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}(o),c="rgb("+l.r+", "+l.g+", "+l.b+")",f=.2126*l.r+.7152*l.g+.0722*l.b;f<150?$("body, footer p a, .c-sns__list a").css("color","#eee"):$("body, footer p a, .c-sns__list a").css("color","#1c1c1c"),200<f?$(".main").css("background-color","rgba(0, 0, 0, 0.2)"):$(".main").css("background-color","transparent"),$("#infors").find(".card-title").text(d),$("#infors").find(".en-name").text(i),$("#infors").find(".card-footer p:first").text(o),$("#infors").find(".card-footer p:last").text(c),$("#details .dd-c").text(a).change(),$("#details .dd-c").prev().text("C: "+a.split("/",1)),$("#details .dd-m").text(n).change(),$("#details .dd-m").prev().text("M: "+n.split("/",1)),$("#details .dd-y").text(r).change(),$("#details .dd-y").prev().text("Y: "+r.split("/",1)),$("#details .dd-k").text(s).change(),$("#details .dd-k").prev().text("K: "+s.split("/",1)),$("#details .bg-r").css("height",100*l.r/255+"%"),$("#details .bg-r").text(l.r),$("#details .bg-g").css("height",100*l.g/255+"%"),$("#details .bg-g").text(l.g),$("#details .bg-b").css("height",100*l.b/255+"%"),$("#details .bg-b").text(l.b),$(t).addClass("change-color"),$("body, #shareModal .modal-content").css("background-color",o)}window.innerHeight>window.innerWidth&&(e=!0),t<=800||e?($("#details .dd-c").peity("donut",{fill:["#0d5661","#eee"],innerRadius:26,radius:30}),$("#details .dd-m").peity("donut",{fill:["#cb1b45","#eee"],innerRadius:26,radius:30}),$("#details .dd-y").peity("donut",{fill:["#ffc408","#eee"],innerRadius:26,radius:30}),$("#details .dd-k").peity("donut",{fill:["#1c1c1c","#eee"],innerRadius:26,radius:30})):($("#details .dd-c").peity("donut",{fill:["#0d5661","#eee"],innerRadius:36,radius:40}),$("#details .dd-m").peity("donut",{fill:["#cb1b45","#eee"],innerRadius:36,radius:40}),$("#details .dd-y").peity("donut",{fill:["#ffc408","#eee"],innerRadius:36,radius:40}),$("#details .dd-k").peity("donut",{fill:["#1c1c1c","#eee"],innerRadius:36,radius:40})),$("#colors .hex-value").each(function(){var t=$(this).text();$(this).closest(".card").css("border-color",t)}),$("#colors .card-body").each(function(){var e=$(this).closest(".col-2");$(this).on("touchstart click",function(t){!1!==t.handled&&(t.stopPropagation(),t.preventDefault(),t.handled=!0,$("#colors .change-color").removeClass("change-color"),d(e,1e3))})}),$('[data-toggle="tooltip"]').tooltip(),$("#infors .card-footer p").each(function(){$(this).on("touchstart click",function(){var t,e;t=$(this),e=$("<input>"),$("body").append(e),e.val($(t).text()).select(),document.execCommand("copy"),e.remove(),$(this).tooltip("hide").attr("data-original-title","已复制到剪贴板").tooltip("show")}).on("mouseleave",function(){$(this).attr("data-original-title","点击复制")})});var i,o,a=$("#colors .col-2").length,n=(i=0,o=a,Math.floor(Math.random()*(o-i+1)+i)),r=$("#colors .col-2")[n];d(r),$("#colors").animate({scrollTop:$(r).offset().top-15},100)});